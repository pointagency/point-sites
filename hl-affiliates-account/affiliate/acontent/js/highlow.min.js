!function(t){"use strict";t.fn.tcycle=function(e){function i(){function e(){var e=i==s-1?0:i+1,a=n.width(),l=t(o[i]),c=t(o[e]);d?(l.fadeOut(r),c.fadeIn(r,g)):(l.animate({left:-a},{duration:r,easing:"easeInOutBack",complete:function(){l.hide(),l.addClass("out")}}),c.css({left:a,display:"block"}).animate({left:0},r,g),c.removeClass("out")),i=i==s-1?0:i+1}var i=0,n=t(this),o=n.children(),a=t.extend({speed:500,timeout:4e3},n.data()),d="scroll"!=a.fx,s=o.length,l=n.width(),r=a.speed,c=a.timeout,h={overflow:"hidden"},u="position",w="absolute",g=function(){n.data("recursiveTimeout",setTimeout(e,c))},f=t.extend({position:w,top:0},d?{left:0}:{left:l},a.scss);"static"==n.css(u)&&(h[u]="relative"),o.css(f),d?o.hide().eq(0).show():o.eq(0).css("left",0),n.data("initTimeout",setTimeout(e,c))}return"reset"==e?(this.each(function(){window.clearTimeout(t(this).data("initTimeout")),window.clearTimeout(t(this).data("recursiveTimout")),t(this).tcycle(!0)}),void 0):this.each(i)},t(function(){t(".tcycle").tcycle()})}(jQuery),window.rotatingStripInit=function(){$(".kapitall-strip").each(function(){function t(){a.hasClass("faded")?(a.removeClass("faded"),d.addClass("faded"),setTimeout(function(){t()},14e3)):(o.css("margin-left",0),r=setInterval(e,1e3/s),a.addClass("faded"),d.removeClass("faded"))}function e(){l&&(o.css("margin-left",parseInt(o.css("margin-left"))-1),parseInt(o.css("margin-left"))<=$(o.parent()).width()-o.outerWidth()&&"0px"!=o.css("margin-left")&&(clearInterval(r),t()))}var i=$(this),n=0,o=$(i.find(".rotating-strip ul")),a=$(i.find(".testi")),d=$(i.find(".rotating-strip")),s=90;$(i.find(".rotating-strip ul > li")).each(function(){n+=$(this).outerWidth()}),o.css("width",n);var l=!0,r=setInterval(e,1e3/s)}),window.resizeHandler.addHandler(function(){$(".tcycle .out").css("left",-$(".tcycle").width())})},window.fullHeightHeroInit=function(){$hero.length>0&&window.resizeHandler.addHandler(function(){var t=$window.width()/$window.height();$(".hero-content").each(function(){var e=$("header"),i=$(".kapitall-strip"),n=$($(this).find(".headline")),o=$($(this).find(".cta")),a=$(".hero .bg"),d=$($(this).find(".headline-content-inner-wrap")),s=0,l=0;$(this).data("disableFullHeight")?(s=1.6*d.outerHeight(),l=1.6*d.outerHeight()):(l=$window.height()>=680?$window.height()-e.outerHeight()-i.outerHeight():$window.height()-e.outerHeight(),4/3>t&&a.outerHeight()-e.outerHeight()<l-o.outerHeight()&&0!=a.outerHeight()&&(l=a.outerHeight()-e.outerHeight()),(l<=d.outerHeight()+.2*$window.width()+o.outerHeight()&&$window.width()<768||l<=d.outerHeight()&&$window.width()>=768)&&(l=d.outerHeight()+.2*$window.width()+o.outerHeight()),s=l-o.outerHeight()),$(this).css("min-height",l),n.css("height",s)})})},window.goToDemo=function(){var t="easeInOutExpo";$(".hero-content.landing").removeClass("active"),$(".hero-content.demo").addClass("active");var e=$(".headline.landing"),i=$(".landing .cta"),n=$(".headline.demo"),o=$(".demo .cta"),a=$("#demo-block");e.animate({"margin-top":-e.outerHeight(),opacity:0},{duration:500,easing:t}),i.animate({"margin-bottom":-i.outerHeight(),opacity:0},{duration:500,easing:t}),n.animate({"margin-top":0,opacity:1},{duration:500,easing:t}),o.animate({"margin-left":0,opacity:1},{duration:500,easing:t}),a.animate({"margin-left":0,opacity:1},{duration:1e3,easing:t}),$("html, body").animate({scrollTop:0},{duration:250})},window.returnToMainPage=function(t){var e="easeInOutExpo";$(".hero-content.landing").addClass("active"),$(".hero-content.demo").removeClass("active");var i=$(".headline.landing"),n=$(".landing .cta"),o=$(".headline.demo"),a=$(".demo .cta"),d=$("#demo-block");i.animate({"margin-top":0,opacity:1},{duration:t,easing:e}),n.animate({"margin-bottom":0,opacity:1},{duration:t,easing:e,complete:function(){}}),a.animate({"margin-left":-a.outerWidth(),opacity:0},{duration:t,easing:e}),d.animate({"margin-left":-d.outerWidth(),opacity:0},{duration:t,easing:e}),o.animate({"margin-top":-o.outerWidth(),opacity:0},{duration:t,easing:e}),$("html, body").animate({scrollTop:0},{duration:250})},window.landingNavigationInit=function(){returnToMainPage(0),$("#return-to-main-page").click(function(){returnToMainPage(600)}),$("#im-new").click(function(){goToDemo()})},window.stickyStripInit=function(){$(".sticky-strip").length>0&&window.scrollHandler.addHandler(function(){$(".sticky-strip").each(function(){var t=$(this);content=$(t.find(".content")),t.css("min-height",content.outerHeight()),$window.scrollTop()>=t.offset().top&&$window.outerWidth()>767?content.addClass("sticky"):content.removeClass("sticky")})})},window.expandableInit=function(){$(".expandable").each(function(){var t=$(this);$(t.find(".expandable-header")).click(function(){t.hasClass("expanded")?t.removeClass("expanded"):t.addClass("expanded")})})},window.blogListInit=function(){$(".blog-list").length>0&&$(".blog-list").isotope({masonry:{columnWidth:".blog-item-wrapper"},itemSelector:".blog-item-wrapper"})},window.tabViewInit=function(){var t=768;$(".tab-side-bar").each(function(){var e=$(this);$(this).on("click",".nav.nav-tabs li",function(){e.hasClass("selecting")?e.removeClass("selecting"):($window.outerWidth()<t&&$("html, body").animate({scrollTop:e.offset().top},{duration:250,ease:"easeInOutQuad"}),$window.outerWidth()<t&&e.addClass("selecting"))})}),$(".tab-full-width").each(function(){var e=$(this);$(this).on("click","> .tab-selector-wrap .nav.nav-tabs li",function(){e.hasClass("selecting")?e.removeClass("selecting"):($window.outerWidth()<t&&$("html, body").animate({scrollTop:e.offset().top},{duration:250,ease:"easeInOutQuad"}),$window.outerWidth()<t&&e.addClass("selecting"))});var i=$($(this).find("> .tab-selector-wrap .nav.nav-tabs li"));i.css("width",100/i.length+"%")}),window.resizeHandler.addHandler(function(){t<=$window.width()&&$(".selecting").removeClass("selecting")})},window.appDownloadInit=function(){var t=$(".app-download");$(".download-panel").each(function(){var e=$(this);e.on("click",".download-panel-header",function(){$window.width()<768&&(e.hasClass("open")?(e.removeClass("open"),$("html, body").animate({scrollTop:t.offset().top},{duration:250,easing:"easeInOutQuad"})):($(".download-panel.open").removeClass("open"),e.addClass("open"),$("html, body").animate({scrollTop:e.offset().top},{duration:250,easing:"easeInOutQuad"})))})})},window.demoBlockInit=function(){$("#demo-block .step").click(function(){$("#demo-block .step").removeClass("in"),$($(this).data("next")).addClass("in"),$(this).data("focus")?$(".hero-content.demo .overlay").addClass("in"):$(".hero-content.demo .overlay").removeClass("in")})},window.UIinit=function(){rotatingStripInit(),$(":first-child").addClass("first-child"),$(":last-child").addClass("last-child"),$("tr:nth-child(odd)").addClass("odd"),$("tr:nth-child(even)").addClass("even"),$("select").wrap('<div class="select-wrap"></div>'),landingNavigationInit(),expandableInit(),fullHeightHeroInit(),stickyStripInit(),blogListInit(),demoBlockInit(),tabViewInit(),appDownloadInit()},window.resizeHandler={handlers:[],addHandler:function(t){this.handlers.push(t)},removeHandler:function(t){this.handlers.splice(this.handlers.indexOf(t))},execute:function(){for(var t=window.resizeHandler,e=0;e<t.handlers.length;e++)t.handlers[e]()},init:function(){var t=this;$window.unbind("resize",t.execute),t.execute(),$window.bind("resize",t.execute)}},window.scrollHandler={handlers:[],addHandler:function(t){this.handlers.push(t)},removeHandler:function(t){this.handlers.splice(this.handlers.indexOf(t))},execute:function(){for(var t=window.scrollHandler,e=0;e<t.handlers.length;e++)t.handlers[e]()},init:function(){var t=this;$window.unbind("scroll",t.execute),t.execute(),$window.bind("scroll",t.execute)}},window.mockLoginInit=function(){$.cookie("logged-in")?$("body").addClass("logged-in"):$("body").removeClass("logged-in"),$("#login-trigger-button").click(function(){$.cookie("logged-in","true"),location.href="./trade-platform.html"}),$("#logout-trigger-button").click(function(){$.removeCookie("logged-in"),location.href="./highlow.html"})},$(document).ready(function(){$window=$(window),$hero=$(".hero"),$("#tour-down").click(function(){$("html,body").animate({scrollTop:$("#explanation").offset().top},{duration:500,easing:"easeInOutExpo"})}),mockLoginInit(),UIinit(),resizeHandler.init(),scrollHandler.init(),setTimeout(function(){$window.resize()},100)});